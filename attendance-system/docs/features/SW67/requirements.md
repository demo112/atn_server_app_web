# Requirements: 请假/出差管理 (SW67)

## Overview

实现员工请假和出差记录的管理功能。当前阶段仅支持管理员在 Web 后台进行补录操作，录入即生效，无需审批流。请假记录将作为考勤计算的依据，用于排除缺勤异常。

## User Stories

### Story 1: 请假/出差记录管理

As a 考勤管理员, I want 在后台录入员工的请假或出差记录, so that 系统能正确识别员工的缺勤原因

**Acceptance Criteria:**
- [ ] AC1: 管理员可查看部门维度的请假记录列表
- [ ] AC2: 管理员可新增请假记录，需选择人员、假期类型、时间范围
- [ ] AC3: 新增记录默认状态为"已通过"，无需审批
- [ ] AC4: 管理员可编辑或删除错误的请假记录
- [ ] AC5: 系统支持多种经典假期类型（年假、事假、病假、出差等）

### Story 2: 考勤计算关联

As a 系统, I want 在计算每日考勤时考虑请假记录, so that 避免将合法请假误判为缺勤

**Acceptance Criteria:**
- [ ] AC1: 当员工在某工作日有"已通过"的请假记录覆盖时，考勤状态标记为"请假"或"出差"
- [ ] AC2: 请假时间段不计入有效出勤时长（Logic B）
- [ ] AC3: 请假时间段不计入迟到/早退时长

## Constraints

- **Scope**: 仅支持 Web 端管理员操作，不支持 App 端员工自助申请。
- **Process**: 无审批流，录入即生效。
- **Data**: 使用系统预置的经典假期类型。
- **Logic**: 考勤计算采用规则 B（视为缺勤但标记为请假，不计入有效工时）。

## Out of Scope

- 员工自助申请（App/Web）
- 审批工作流
- 假期余额管理（年假/调休余额扣减）
- 销假流程

## Assumptions

- 录入操作人即为审批人（approver）
- 请假时间最小单位为分钟（根据 Schema `DateTime` 类型）
