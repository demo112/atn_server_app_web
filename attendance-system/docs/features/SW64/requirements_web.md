# Requirements: Web 端班次管理 (SW64)

## Overview

Web 端班次管理功能允许管理员创建、编辑和维护企业的班次规则。班次是考勤计算的核心配置，定义了具体的工作时间段和循环周期。

## User Stories

### Story 1: 班次列表管理

As a 管理员, I want 在Web后台查看班次列表, so that 我可以管理所有的班次配置

**Acceptance Criteria:**
- [ ] AC1: 列表展示字段：班次名称、周期天数、包含的时间段摘要（如 "09:00-18:00"）
- [ ] AC2: 支持按名称搜索班次
- [ ] AC3: 支持分页展示（若班次较多）
- [ ] AC4: 提供“新增班次”入口

### Story 2: 新增/编辑班次

As a 管理员, I want 新增或编辑班次, so that 适应不同的工作时间安排

**Acceptance Criteria:**
- [ ] AC1: 设置班次名称（必填，唯一性校验）
- [ ] AC2: 配置班次周期（默认为 1 天，支持多天循环）
- [ ] AC3: 配置时间段（Time Periods）：
    - 支持添加多个时间段（如一天两班倒：08:00-12:00, 14:00-18:00）
    - 每个时间段需从“时间段管理 (SW63)”中选择，或支持快捷创建
- [ ] AC4: 校验规则：
    - 同一班次内的多个时间段不能重叠
    - 必须至少包含一个时间段

### Story 3: 删除班次

As a 管理员, I want 删除不再使用的班次, so that 保持配置简洁

**Acceptance Criteria:**
- [ ] AC1: 删除前需进行引用检查
- [ ] AC2: 若班次已被排班 (Schedule) 引用且在有效期内，禁止删除并提示
- [ ] AC3: 若未被引用或仅被历史排班引用，允许删除（逻辑删除）

## Constraints

- **引用完整性**: 班次与排班强关联，删除逻辑需严谨。
- **跨天支持**: 班次内的时间段可能跨天，展示时需清晰标识（如 "次日 02:00"）。

## Out of Scope

- 自动智能排班算法
- 复杂轮班规则生成器（目前通过手动设置多天周期实现）

## Metadata

- 规模: 中
- 涉及模块: attendance
- 涉及端: Web
- 状态: Draft
