# Requirements: 班次管理 (SW64)

## Overview

班次管理是排班的基础，允许管理员将一个或多个"时间段"（TimePeriod）组合成一个"班次"（Shift）。班次定义了以"周"为周期的每日工作时间安排。例如，可以定义一个"标准早班"，包含周一到周五的"09:00-18:00"时间段。

## User Stories

### Story 1: 创建班次

As a 考勤管理员, I want 创建新的班次, so that 我可以为后续排班做准备

**Acceptance Criteria:**
- [ ] AC1: 输入班次名称（必填，唯一性校验）
- [ ] AC2: 配置班次周期（默认为 7 天）
- [ ] AC3: 为周期内的每一天（周一至周日）选择 0 个或多个时间段
- [ ] AC4: 每天支持添加多个时间段（例如：上午段 + 下午段），并指定顺序
- [ ] AC5: 保存后生成唯一的班次 ID

### Story 2: 班次列表与详情

As a 考勤管理员, I want 查看班次列表和详情, so that 我可以管理已有的班次

**Acceptance Criteria:**
- [ ] AC1: 列表显示班次 ID、名称、创建时间
- [ ] AC2: 详情页按周视图展示每一天关联的时间段详情（时间段名称、起止时间）
- [ ] AC3: 支持按名称搜索班次

### Story 3: 更新与删除班次

As a 考勤管理员, I want 修改或删除班次, so that 我可以维护考勤规则

**Acceptance Criteria:**
- [ ] AC1: 可以修改班次名称
- [ ] AC2: 可以修改每一天关联的时间段组合
- [ ] AC3: 可以删除未被使用的班次（如果被排班引用则禁止删除或提示警告）
- [ ] AC4: 更新操作应记录更新时间

## Constraints

- **周期限制**：目前仅支持以"周"（7天）为循环周期。
- **时间段数量**：每一天最多允许配置 8 个时间段。
- **引用关系**：班次引用的时间段必须是已存在的有效时间段。

## Out of Scope

- **大小周/轮班**：目前仅支持固定周循环，不支持双周或自定义天数循环（未来 SW65 排班管理可能涉及，但 SW64 仅定义基础班次结构）。
- **智能排班**：自动分配班次不在本需求范围内。

## Assumptions

以下假设已与用户确认：
- 班次是静态的模板，一旦创建供排班使用。
- 每天的时间段之间不应重叠（前端或后端需校验，优先后端校验）。

## Metadata

- 规模：中
- 涉及模块：attendance
- 涉及端：Server, Web
- 依赖：SW63 (时间段设置)
- 创建时间：2026-01-31
- 状态：待确认
