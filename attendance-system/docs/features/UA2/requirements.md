# Requirements: UA2 人员管理

## Overview
实现企业员工档案的全生命周期管理，包括员工信息的录入、查询、维护以及入离职状态管理。员工数据是考勤系统的核心基础数据，需支持与部门关联和系统账号绑定。

## User Stories

### Story 1: 员工档案维护
As a 管理员, I want 新增、编辑和删除员工信息, so that 维护准确的企业人员名册。

**Acceptance Criteria:**
- [ ] AC1: 新增员工时必填：姓名、工号、部门、入职日期
- [ ] AC2: 工号在全系统内唯一，重复时提示错误
- [ ] AC3: 能修改除工号外的所有信息
- [ ] AC4: **删除员工**：支持删除操作，删除后该工号立即释放可被再次使用
- [ ] AC5: **历史保留**：删除员工后，其历史考勤记录必须保留，且能正确显示员工姓名

### Story 2: 员工列表与查询
As a 管理员, I want 搜索和查看员工列表, so that 快速定位目标人员。

**Acceptance Criteria:**
- [ ] AC1: 列表展示字段：姓名、工号、部门、职位、手机号
- [ ] AC2: 支持关键字搜索（姓名/工号/手机号）
- [ ] AC3: 支持按部门筛选
- [ ] AC4: **已删除隐藏**：列表仅显示在职员工，已删除员工不可见
- [ ] AC5: 列表支持分页

### Story 3: 员工账号关联
As a 管理员, I want 将员工档案与系统用户账号关联, so that 员工可以登录系统。

**Acceptance Criteria:**
- [ ] AC1: 在员工详情中可选择未绑定的 User 账号进行绑定
- [ ] AC2: 一个员工只能绑定一个 User 账号
- [ ] AC3: 支持解除绑定
- [ ] AC4: 删除员工时，应自动解除账号绑定

## Constraints

- **数据完整性**：删除部门时，若部门下有员工，禁止删除或提示转移。
- **唯一性**：工号 (employee_no) 在“在职”员工中必须唯一。
- **历史追溯**：必须保证历史考勤数据的完整性（Referential Integrity）。

## Out of Scope

- 批量导入/导出员工数据（Excel）
- 复杂的入离职流程审批
- 薪资与社保信息管理
- 员工自助修改个人档案
- 恢复已删除的员工

## Assumptions

- 部门数据（UA3）将并行或提前准备好
- "删除"在业务上意味着员工离开且不保留档案，但在技术上需保留数据以支撑报表


## Metadata

- 规模：中
- 涉及模块：employee (Server), user (Server), department (Shared)
- 涉及端：Server, Web
- 状态：待确认
