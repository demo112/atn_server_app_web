# 单人排班创建超时修复记录

## 问题描述
- **现象**：前端创建单人排班时报错 `AxiosError: timeout of 10000ms exceeded`。
- **复现步骤**：
  1. 打开排班管理页面。
  2. 选择单个员工，日期范围约 20 天。
  3. 提交后等待超过 10 秒，前端报错。
- **影响范围**：排班管理模块（SW65）。

## 设计锚定
- **所属规格**：SW65
- **原设计意图**：
  > 引用 `docs/features/SW65/design.md`：
  > 系统需支持单人排班，处理日期冲突。
- **当前偏离**：
  - 前端默认超时 10s，对于开发环境或网络波动场景偏短。
  - 后端单人创建事务使用 Prisma 默认超时（通常 5s），未显式配置。

## 根因分析
- **直接原因**：前端请求等待超过 10s。
- **根本原因**：
  1. **环境因素**：开发环境数据库连接或事务处理较慢。
  2. **配置过紧**：前端 10s 超时在包含数据库事务操作的场景下不够健壮。

## 修复方案
- **修复思路**：增加超时容忍度。
- **改动文件**：
  - `packages/web/src/utils/request.ts`: 将全局 Axios 超时从 10s 增加到 30s。
  - `packages/server/src/modules/attendance/schedule/schedule.service.ts`: 为单人创建事务增加 20s 超时设置。

## 验证结果
- [x] 代码静态检查通过。
- [x] 超时配置已更新。

## 文档同步
- [ ] design.md：无需修改。
- [ ] api-contract.md：无需修改。

## 提交信息
fix(attendance): 增加排班创建超时时间

- Web: Axios 超时调整为 30s
- Server: 单人排班事务超时调整为 20s
