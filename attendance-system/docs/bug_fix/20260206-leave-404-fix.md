# [ERROR] Failed to fetch leaves 404 修复记录

## 问题描述
- **现象**：前端请求请假列表报错 404。
- **复现步骤**：进入考勤管理 -> 请假管理页面。
- **影响范围**：请假管理功能不可用。

## 设计锚定
- **所属规格**：SW67 (请假/出差管理)
- **原设计意图**：
  > Story 1: 记录管理 | API: GET/POST/PUT/DELETE `/api/v1/leaves`
- **当前偏离**：
  1.  后端未注册 `leaveRouter`。
  2.  前端调用路径为 `/attendance/leaves`，与设计 `/api/v1/leaves` 不符。

## 根因分析
- **直接原因**：后端路由未注册，导致 404。
- **根本原因**：开发时遗漏了在 `app.ts` 中挂载 `leaveRouter`，且前端路径也写错。
- **相关代码**：
  - `packages/server/src/app.ts`
  - `packages/web/src/services/leave.ts`

## 修复方案
- **修复思路**：
  1.  在 `packages/server/src/app.ts` 中引入并挂载 `leaveRouter` 到 `/api/v1/leaves`。
  2.  修改 `packages/web/src/services/leave.ts` 中的 API 路径为 `/leaves`。
- **改动文件**：
  - `packages/server/src/app.ts`
  - `packages/web/src/services/leave.ts`

## 验证结果
- [x] 原问题已解决
- [x] 回归测试通过
- [x] 设计一致性确认

## 文档同步
- [ ] design.md：无需更新（设计正确）
- [ ] api-contract.md：无需更新（符合通用规范）

## 提交信息
fix(attendance): 修复请假接口 404 问题
