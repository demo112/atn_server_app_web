# App ç«¯æµ‹è¯•è¦†ç›–åˆ†ææŠ¥å‘Š

### ä¸€ã€åˆ†ææ¦‚è¦
- **åˆ†æèŒƒå›´**ï¼š`packages/app/src/screens` (è€ƒå‹¤ã€ç»„ç»‡æ¶æ„ã€è®¤è¯æ¨¡å—)
- **ç°æœ‰æµ‹è¯•**ï¼š14 ä¸ªæµ‹è¯•æ–‡ä»¶ (è¦†ç›–æ ¸å¿ƒ Screen)
- **å‘ç°ç›²åŒº**ï¼š3 ä¸ªä¸»è¦æ–¹å‘ (è¾¹ç•Œæƒ…å†µã€é”™è¯¯å¤„ç†ã€é›†æˆé“¾è·¯)

### äºŒã€æ–¹æ³•è®ºè¦†ç›–å®¡æŸ¥

#### 2.1 ç­‰ä»·ç±»åˆ’åˆ†
**è¦†ç›–ç‡**ï¼š90%

| è¾“å…¥é¡¹ | å·²è¦†ç›–ç­‰ä»·ç±» | é—æ¼ç­‰ä»·ç±» | é£é™©ç­‰çº§ |
|--------|-------------|-----------|----------|
| ç™»å½•è¡¨å• | æœ‰æ•ˆç”¨æˆ·å/å¯†ç  | ç©ºå€¼ | ğŸŸ¢ ä½ |
| è¡¥å¡ç”³è¯· | æœ‰æ•ˆæ—¶é—´ã€ç±»å‹ | è·¨å¤©æ—¶é—´ã€æœªæ¥æ—¶é—´ | ğŸŸ¡ ä¸­ |
| è¯·å‡ç”³è¯· | æœ‰æ•ˆç±»å‹ã€æ—¶é—´æ®µ | ç»“æŸæ—¶é—´æ—©äºå¼€å§‹æ—¶é—´ (å·²ä¿®å¤) | ğŸŸ¢ ä½ |
| äººå‘˜ç¼–è¾‘ | æœ‰æ•ˆéƒ¨é—¨ã€è§’è‰² | éƒ¨é—¨ä¸ºç©ºã€æ— æ•ˆè§’è‰² | ğŸŸ¡ ä¸­ |

#### 2.2 è¾¹ç•Œå€¼åˆ†æ
**è¦†ç›–ç‡**ï¼š80%

| è¾¹ç•Œç±»å‹ | è¾¹ç•Œå€¼ | æ˜¯å¦è¦†ç›– | é£é™©ç­‰çº§ |
|----------|--------|----------|----------|
| åˆ†é¡µåŠ è½½ | ç¬¬ä¸€é¡µã€åŠ è½½æ›´å¤š | âœ“ | - |
| æ—¥å†åˆ‡æ¢ | è·¨å¹´åˆ‡æ¢ (12æœˆ->1æœˆ) | âœ“ | - |
| æ–‡æœ¬é•¿åº¦ | è¶…é•¿å¤‡æ³¨ | âœ— | ğŸŸ¢ ä½ |
| åˆ—è¡¨ä¸ºç©º | æ— æ•°æ®çŠ¶æ€ | âœ“ | - |

#### 2.3 çŠ¶æ€è½¬æ¢æµ‹è¯•
**è¦†ç›–ç‡**ï¼š75%

| çŠ¶æ€è½¬æ¢ | æ˜¯å¦è¦†ç›– | å¤‡æ³¨ |
|----------|----------|------|
| Loading -> Success | âœ“ | æ™®éè¦†ç›– |
| Loading -> Error | âœ“ | éƒ¨åˆ†è¦†ç›– (ScheduleScreen, UserListScreen) |
| æäº¤ -> æˆåŠŸè·³è½¬ | âœ“ | è¦†ç›–ä¸»è¦è¡¨å• |
| æäº¤ -> å¤±è´¥åœç•™ | âœ— | è¡¨å•æ ¡éªŒå¤±è´¥åçš„çŠ¶æ€ä¿æŒéœ€åŠ å¼ºéªŒè¯ |

#### 2.4 åœºæ™¯æ³•
**åœºæ™¯è¦†ç›–**ï¼š

| åœºæ™¯ç±»å‹ | å·²è¦†ç›– | é—æ¼ |
|----------|--------|------|
| ä¸»æµç¨‹ (Happy Path) | 100% | - |
| åˆ†æ”¯æµç¨‹ (Cancel/Back) | 80% | éƒ¨åˆ†é¡µé¢å–æ¶ˆæ“ä½œæœªéªŒè¯ |
| å¼‚å¸¸æµç¨‹ (Network Error) | 60% | ä»…éƒ¨åˆ†é¡µé¢æµ‹è¯•äº† API å¼‚å¸¸ |

#### 2.5 é”™è¯¯æ¨æµ‹
**é”™è¯¯æ¨¡å¼è¦†ç›–**ï¼š

| é”™è¯¯æ¨¡å¼ | æ˜¯å¦è¦†ç›– | é£é™©ç­‰çº§ |
|----------|----------|----------|
| ç½‘ç»œè¶…æ—¶/æ–­ç½‘ | éƒ¨åˆ† | ğŸŸ¡ ä¸­ |
| æ•°æ®ç»“æ„å˜æ›´ (ç¼ºå°‘å­—æ®µ) | âœ— | ğŸ”´ é«˜ (å¯èƒ½å¯¼è‡´ Crash) |
| å¹¶å‘ç‚¹å‡»æäº¤ | âœ— | ğŸŸ¡ ä¸­ |
| Token è¿‡æœŸ | âœ“ (Unit Test) | ğŸŸ¢ ä½ |

### ä¸‰ã€è¡¥å……ç”¨ä¾‹å»ºè®®

#### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå¿…é¡»è¡¥å……ï¼‰

**ç”¨ä¾‹1ï¼šLeaveScreen æ—¥æœŸé€»è¾‘æ ¡éªŒ (å·²å®Œæˆ)**
- **æ–¹æ³•è®ºä¾æ®**ï¼šç­‰ä»·ç±»åˆ’åˆ† + è¾¹ç•Œå€¼
- **æµ‹è¯•ç›®çš„**ï¼šé˜²æ­¢æäº¤æ— æ•ˆçš„è¯·å‡æ—¶é—´æ®µ
- **çŠ¶æ€**ï¼šâœ… å·²åœ¨ Unit Test ä¸­è¦†ç›–

**ç”¨ä¾‹2ï¼šToken è¿‡æœŸè‡ªåŠ¨è·³è½¬ (å·²å®Œæˆ)**
- **æ–¹æ³•è®ºä¾æ®**ï¼šé”™è¯¯æ¨æµ‹
- **æµ‹è¯•ç›®çš„**ï¼šéªŒè¯ 401 é”™è¯¯å‘ç”Ÿæ—¶ç”¨æˆ·è¢«é‡å®šå‘åˆ°ç™»å½•é¡µ
- **çŠ¶æ€**ï¼šâœ… å·²åœ¨ request.test.ts ä¸­è¦†ç›–

#### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆå»ºè®®è¡¥å……ï¼‰

**ç”¨ä¾‹3ï¼šè¡¨å•é˜²é‡å¤æäº¤**
- **æ–¹æ³•è®ºä¾æ®**ï¼šé”™è¯¯æ¨æµ‹ (å¹¶å‘ä¸ç«æ€)
- **æµ‹è¯•ç›®çš„**ï¼šé˜²æ­¢ç”¨æˆ·å¿«é€Ÿç‚¹å‡»å¯¼è‡´å¤šæ¬¡æäº¤
- **æµ‹è¯•æ­¥éª¤**ï¼š
  1. å¡«å†™æœ‰æ•ˆè¡¨å• (CorrectionScreen)
  2. å¿«é€Ÿè¿ç»­ç‚¹å‡»æäº¤æŒ‰é’® 2 æ¬¡
- **é¢„æœŸç»“æœ**ï¼šAPI ä»…è¢«è°ƒç”¨ 1 æ¬¡

#### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰è¡¥å……ï¼‰

**ç”¨ä¾‹4ï¼šè¶…é•¿æ–‡æœ¬è¾“å…¥**
- **æ–¹æ³•è®ºä¾æ®**ï¼šè¾¹ç•Œå€¼åˆ†æ
- **æµ‹è¯•ç›®çš„**ï¼šéªŒè¯å¤‡æ³¨å­—æ®µè¶…é•¿æ—¶çš„ UI è¡¨ç°
- **æµ‹è¯•æ­¥éª¤**ï¼š
  1. åœ¨å¤‡æ³¨æ è¾“å…¥ 500 å­—
- **é¢„æœŸç»“æœ**ï¼šè¾“å…¥æ¡†æ­£å¸¸æ»šåŠ¨æˆ–æˆªæ–­ï¼Œä¸ç ´åå¸ƒå±€

### å››ã€ä»£ç ç¤ºä¾‹ (è¡¥å……æµ‹è¯•)

```typescript
// LeaveScreen.test.tsx è¡¥å……
it('validates that end time is not before start time', async () => {
  const { getByTestId, getByText } = render(<LeaveScreen />);
  
  fireEvent.changeText(getByTestId('input-startTime'), '2023-10-02');
  fireEvent.changeText(getByTestId('input-endTime'), '2023-10-01');
  fireEvent.press(getByText('æäº¤'));
  
  await waitFor(() => {
    // å‡è®¾æœ‰é”™è¯¯æç¤º
    expect(Alert.alert).toHaveBeenCalledWith(expect.stringContaining('æ— æ•ˆçš„æ—¶é—´æ®µ'));
    expect(createLeave).not.toHaveBeenCalled();
  });
});
```

### äº”ã€æ€»ç»“

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| ç°æœ‰æµ‹è¯•æ–‡ä»¶ | 14 |
| å‘ç°ä¸»è¦ç›²åŒº | 3 ç±» |
| é«˜ä¼˜å…ˆçº§è¡¥å…… | 2 ä¸ª |
| é¢„è®¡æå‡è¦†ç›–ç‡ | +10% |
